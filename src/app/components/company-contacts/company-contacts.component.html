<form #companyForm="ngForm" class="container mt-3" (ngModelChange)="onFormChange()">
    <div class="row mb-3">
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Company Name</mat-label>
          <input matInput placeholder="Company Name" name="companyName" [(ngModel)]="companyContact.companyName" required>
          <mat-error *ngIf="companyForm.controls['companyName']?.invalid && (companyForm.controls['companyName']?.dirty || companyForm.controls['companyName']?.touched)">
            Company Name is required.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Telephone</mat-label>
          <input matInput placeholder="Telephone" name="telephone" [(ngModel)]="companyContact.telephone" required>
          <mat-error *ngIf="companyForm.controls['telephone']?.invalid && (companyForm.controls['telephone']?.dirty || companyForm.controls['telephone']?.touched)">
            Telephone is required.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Email</mat-label>
          <input matInput placeholder="Email" name="email" [(ngModel)]="companyContact.email" required email>
          <mat-error *ngIf="companyForm.controls['email']?.invalid && (companyForm.controls['email']?.dirty || companyForm.controls['email']?.touched)">
            <span *ngIf="companyForm.controls['email']?.errors?.['required']">Email is required.</span>
            <span *ngIf="companyForm.controls['email']?.errors?.['email']">Please enter a valid email.</span>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  
    <div class="row mb-3">
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Fax</mat-label>
          <input matInput placeholder="Fax" name="fax" [(ngModel)]="companyContact.fax">
        </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Website</mat-label>
          <input matInput placeholder="Website" name="website" [(ngModel)]="companyContact.website" required>
          <mat-error *ngIf="companyForm.controls['website']?.invalid && (companyForm.controls['website']?.dirty || companyForm.controls['website']?.touched)">
            Website is required.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Point of Contact Name</mat-label>
          <input matInput placeholder="Point of Contact Name" name="pointOfContactName" [(ngModel)]="companyContact.pointOfContactName">
        </mat-form-field>
      </div>
    </div>
    
    <div class="row mb-3">
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Point of Contact Title</mat-label>
          <input matInput placeholder="Point of Contact Title" name="pointOfContactTitle" [(ngModel)]="companyContact.title">
        </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Contact Phone 1</mat-label>
          <input matInput placeholder="Contact Phone 1" name="contactPhone1" [(ngModel)]="companyContact.contactPhone1" required>
          <mat-error *ngIf="companyForm.controls['contactPhone1']?.invalid && (companyForm.controls['contactPhone1']?.dirty || companyForm.controls['contactPhone1']?.touched)">
            Contact Phone 1 is required.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Contact Email</mat-label>
          <input matInput placeholder="Contact Email" name="contactEmail" [(ngModel)]="companyContact.contactEmail" required email>
          <mat-error *ngIf="companyForm.controls['contactEmail']?.invalid && (companyForm.controls['contactEmail']?.dirty || companyForm.controls['contactEmail']?.touched)">
            <span *ngIf="companyForm.controls['contactEmail']?.errors?.['required']">Contact Email is required.</span>
            <span *ngIf="companyForm.controls['contactEmail']?.errors?.['email']">Please enter a valid email.</span>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  
    <div class="row mb-3">
      <div class="col-md-4">
        <mat-form-field class="w-100">
          <mat-label>Contact Phone 2</mat-label>
          <input matInput placeholder="Contact Phone 2" name="contactPhone2" [(ngModel)]="companyContact.contactPhone2">
        </mat-form-field>
      </div>
      <div class="col-8">
        <mat-form-field class="w-100">
          <mat-label>Address</mat-label>
          <input matInput placeholder="Address" name="address" [(ngModel)]="companyContact.mailingAddress" required>
          <mat-error *ngIf="companyForm.controls['address']?.invalid && (companyForm.controls['address']?.dirty || companyForm.controls['address']?.touched)">
            Address is required.
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-12 text-end">
        <button
          type="button"
          mat-raised-button
          color="primary"
          [disabled]="!companyForm.valid"
          (click)="continue(companyForm)"
        >
          Continue
        </button>
      </div>
    </div>
  </form>
  